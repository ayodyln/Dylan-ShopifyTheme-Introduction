//! Product Page Globals
const sizeInputLabels = document.querySelectorAll('label[data-input="size"]');
const sizeInputs = document.querySelectorAll('label[data-input="size"] > input');

// Function to handled input events and class updates
/**
  In Stock: "cursor-pointer", 
  Out of Stock: "opacity-25 cursor-not-allowed"
  Active: "ring-2 ring-indigo-500 ring-offset-2"
  Checked: "border-transparent bg-indigo-600 text-white hover:bg-indigo-700", 
  Not Checked: "border-gray-200 bg-white text-gray-900 hover:bg-gray-50"
 */
function handleInputEvents(e) {
  const { vid } = e.target.dataset;
  const label = document.querySelector(`label[data-vid="${vid}"]`);
  let checked = e.target.checked

  sizeInputs.forEach((i) => {
    i.checked = false;
    const currInputLabel = document.querySelector(`label[data-vid="${i.dataset.vid}"]`)
    currInputLabel.classList.remove('border-transparent', 'bg-indigo-600', 'text-white', 'hover:bg-indigo-700')
  });
  
  checked = true;

  if (checked) {
    label.classList.add('border-transparent', 'bg-indigo-600', 'text-white', 'hover:bg-indigo-700');
  } 
}

// Exectute Mounted Functions
window.onload = () => {
  sizeInputs.forEach((input) => input.addEventListener('click', handleInputEvents));
};
